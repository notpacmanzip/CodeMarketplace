{% extends "base.html" %}

{% block title %}Login - Stackly{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-6 col-lg-4">
            <div class="card shadow">
                <div class="card-body p-5">
                    <div class="text-center mb-4">
                        <h2><i class="fas fa-layer-group text-primary me-2"></i>Stackly</h2>
                        <p class="text-muted">Choose your preferred login method</p>
                    </div>

                    <div class="d-grid gap-3">
                        {% if 'google' in providers %}
                        <a href="{{ url_for('login_with_provider', provider='google') }}" class="btn btn-outline-danger btn-lg">
                            <i class="fab fa-google me-2"></i>Continue with Google
                        </a>
                        {% endif %}

                        {% if 'github' in providers %}
                        <a href="{{ url_for('login_with_provider', provider='github') }}" class="btn btn-outline-dark btn-lg">
                            <i class="fab fa-github me-2"></i>Continue with GitHub
                        </a>
                        {% endif %}

                        {% if 'replit' in providers %}
                        <a href="{{ url_for('login_with_provider', provider='replit') }}" class="btn btn-outline-primary btn-lg">
                            <i class="fas fa-code me-2"></i>Continue with Replit
                        </a>
                        {% endif %}
                    </div>

                    {% if providers|length == 0 %}
                    <div class="alert alert-warning text-center">
                        <i class="fas fa-exclamation-triangle me-2"></i>
                        No authentication providers are currently configured.
                    </div>
                    {% endif %}

                    <div class="text-center mt-4">
                        <small class="text-muted">
                            By signing in, you agree to our terms of service and privacy policy.
                        </small>
                    </div>
                </div>
            </div>

            <div class="text-center mt-3">
                <a href="{{ url_for('index') }}" class="text-muted">
                    <i class="fas fa-arrow-left me-1"></i>Back to home
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
// Add some visual feedback when clicking login buttons
document.querySelectorAll('.btn').forEach(btn => {
    btn.addEventListener('click', function() {
        this.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Connecting...';
        this.disabled = true;
    });
});
</script>
{% endblock %}